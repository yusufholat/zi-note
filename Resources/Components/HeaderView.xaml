<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:helpers="clr-namespace:Zinote.Helpers"
             xmlns:local="clr-namespace:Zinote.Resources.Components"
             x:Class="Zinote.Resources.Components.HeaderView"
             x:DataType="local:HeaderView"
             x:Name="ThisHeader">

    <Grid ColumnDefinitions="*, Auto" VerticalOptions="Fill" Padding="10,0">
        
        <HorizontalStackLayout Grid.Column="0" Spacing="10" VerticalOptions="Center" HorizontalOptions="Start">
            <Image Source="appicon_logo.svg" 
                   HeightRequest="24" 
                   WidthRequest="24" 
                   VerticalOptions="Center" 
                   IsVisible="{Binding ShowLogo, Source={x:Reference ThisHeader}}" />
            <Label Text="{Binding TitleText, Source={x:Reference ThisHeader}}" 
                   FontSize="20" 
                   FontAttributes="Bold" 
                   VerticalOptions="Center" 
                   TextColor="{DynamicResource DynamicShellTitleColor}"/>
        </HorizontalStackLayout>
        
        <HorizontalStackLayout Grid.Column="1" HorizontalOptions="End" Spacing="8" VerticalOptions="Center">
            <!-- Language Button -->
            <Border StrokeShape="RoundRectangle 8" BackgroundColor="{DynamicResource DynamicHeaderButtonBg}" 
                    StrokeThickness="0" Padding="8,4" WidthRequest="45" HeightRequest="32">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnLanguageClicked"/>
                </Border.GestureRecognizers>
                <Label x:Name="LanguageLabel" 
                       Text="EN" 
                       FontSize="14" 
                       FontAttributes="Bold"
                       VerticalOptions="Center" 
                       HorizontalOptions="Center"
                       TextColor="{DynamicResource DynamicShellTitleColor}"/>
            </Border>

            <!-- Theme Button -->
            <Border StrokeShape="RoundRectangle 8" BackgroundColor="{DynamicResource DynamicHeaderButtonBg}" 
                    StrokeThickness="0" Padding="8,4" WidthRequest="45" HeightRequest="32">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnThemeClicked"/>
                </Border.GestureRecognizers>
                <Label Text="{DynamicResource DynamicThemeIcon}" 
                       FontSize="16" 
                       VerticalOptions="Center" 
                       HorizontalOptions="Center"
                       TextColor="{DynamicResource DynamicShellTitleColor}"/>
            </Border>

            <!-- Profile Button -->
            <Border StrokeShape="RoundRectangle 8" BackgroundColor="{DynamicResource DynamicHeaderButtonBg}" 
                    StrokeThickness="0" Padding="8,4" WidthRequest="45" HeightRequest="32"
                    IsVisible="{Binding ShowProfile, Source={x:Reference ThisHeader}}">
                <Border.GestureRecognizers>
                    <TapGestureRecognizer Tapped="OnProfileClicked"/>
                </Border.GestureRecognizers>
                <Label Text="ðŸ‘¤" 
                       FontSize="16" 
                       VerticalOptions="Center" 
                       HorizontalOptions="Center"
                       TextColor="{DynamicResource DynamicShellTitleColor}"/>
            </Border>
        </HorizontalStackLayout>
    </Grid>
</ContentView>
