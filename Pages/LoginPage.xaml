<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:components="clr-namespace:Zinote.Resources.Components"
             xmlns:helpers="clr-namespace:Zinote.Helpers"
             x:Class="Zinote.Pages.LoginPage"
             Shell.NavBarIsVisible="True"
             Shell.TabBarIsVisible="False"
             Background="{DynamicResource LoginBackgroundBrush}">

    <Shell.TitleView>
        <components:HeaderView TitleText="" ShowProfile="False" ShowLogo="True" />
    </Shell.TitleView>
    
    <Grid>
        <!-- Main Content (Centered) -->
        <Border Stroke="{DynamicResource LoginBorderStroke}"
                StrokeThickness="0"
                BackgroundColor="{DynamicResource LoginBorderBackground}"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                WidthRequest="340"
                Padding="30"
                StrokeShape="RoundRectangle 20">
            
            <VerticalStackLayout Spacing="20">
                <!-- Branding -->
                <Image Source="appicon_logo.svg"
                       HeightRequest="70"
                       HorizontalOptions="Center" />
                       
                <Label Text="{helpers:Translate LoginTitle}"
                       FontSize="15"
                       HorizontalOptions="Center"
                       TextColor="{DynamicResource LoginTitleColor}" />

                <!-- Inputs -->
                <VerticalStackLayout Spacing="15">
                    <Border Padding="15,0" StrokeShape="RoundRectangle 10" Stroke="{DynamicResource LoginBorderStroke}" BackgroundColor="{DynamicResource LoginInputBackground}" HeightRequest="50">
                        <Entry x:Name="EmailEntry"
                               Placeholder="{helpers:Translate EmailPlaceholder}"
                               PlaceholderColor="{DynamicResource LoginInputPlaceholderColor}"
                               TextColor="{DynamicResource LoginInputText}"
                               Keyboard="Email"
                               BackgroundColor="Transparent"
                               VerticalTextAlignment="Center"
                               VerticalOptions="Center" />
                    </Border>
    
                    <Border Padding="15,0" StrokeShape="RoundRectangle 10" Stroke="{DynamicResource LoginBorderStroke}" BackgroundColor="{DynamicResource LoginInputBackground}" HeightRequest="50">
                        <Entry x:Name="PasswordEntry"
                               Placeholder="{helpers:Translate PasswordPlaceholder}"
                               PlaceholderColor="{DynamicResource LoginInputPlaceholderColor}"
                               TextColor="{DynamicResource LoginInputText}"
                               IsPassword="True"
                               BackgroundColor="Transparent"
                               VerticalTextAlignment="Center"
                               VerticalOptions="Center" />
                    </Border>
                </VerticalStackLayout>

                <!-- Actions -->
                <Button x:Name="LoginButton"
                        Text="{helpers:Translate LoginButton}"
                        Clicked="OnLoginClicked"
                        BackgroundColor="{DynamicResource DynamicButtonBackground}"
                        TextColor="{DynamicResource LoginButtonTextColor}"
                        FontAttributes="Bold"
                        CornerRadius="25"
                        HeightRequest="50"
                        Margin="0,10,0,0">
                    <Button.Shadow>
                        <Shadow Brush="Black" Offset="0,4" Opacity="0.3" Radius="10"/>
                    </Button.Shadow>
                </Button>

                <Button x:Name="RegisterButton"
                        Text="{helpers:Translate RegisterButton}"
                        Clicked="OnRegisterClicked"
                        BackgroundColor="Transparent"
                        TextColor="{DynamicResource LoginRegisterTextColor}"
                        FontSize="14"
                        HeightRequest="30"
                        Padding="20,0" 
                        HorizontalOptions="Center"/>
                
                <BoxView HeightRequest="1" Color="{DynamicResource LoginDividerColor}" Margin="20,0" />

                <Button x:Name="GuestButton"
                        Text="{helpers:Translate GuestButton}"
                        Clicked="OnGuestClicked"
                        BackgroundColor="Transparent"
                        TextColor="{DynamicResource LoginGuestTextColor}"
                        BorderColor="{DynamicResource LoginGuestBorderColor}"
                        BorderWidth="1"
                        CornerRadius="20"
                        HeightRequest="40"
                        FontSize="13" />

            </VerticalStackLayout>
        </Border>

        <!-- Loading Overlay -->
        <Grid x:Name="LoadingOverlay" Grid.RowSpan="2" BackgroundColor="{DynamicResource DynamicOverlayBackground}" IsVisible="False">
            <ActivityIndicator IsRunning="True" Color="{DynamicResource DynamicActivityIndicatorColor}" VerticalOptions="Center" HorizontalOptions="Center" />
        </Grid>
    </Grid>

</ContentPage>
